!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VuePullToReload=e():t.VuePullToReload=e()}(this,function(){return function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=12)}([function(t,e,o){t.exports=!o(1)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var o=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=o)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){var o=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=o)},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,o){var n=o(19);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){var o=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:o)(t)}},function(t,e,o){var n=o(6),i=o(5);t.exports=function(t){return n(i(t))}},function(t,e,o){o(46);var n=o(44)(o(10),o(45),"data-v-d37c2ed4",null);n.options.__file="/home/spytec/Documents/JavaScriptProjects/vue-pull-to/src/vue-pull-to-reload.vue",n.esModule&&Object.keys(n.esModule).some(function(t){return"default"!==t&&"__esModule"!==t})&&console.error("named exports are not supported in *.vue files."),n.options.functional&&console.error("[vue-loader] vue-pull-to-reload.vue: functional components are not supported with templates, they should use render functions."),t.exports=n.exports},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(14),i=function(t){return t&&t.__esModule?t:{default:t}}(n),r=o(13),s=o(11);e.default={name:"vue-pull-to-reload",props:{distanceIndex:{type:Number,default:2},topBlockHeight:{type:Number,default:50},bottomBlockHeight:{type:Number,default:50},wrapperHeight:{type:String,default:"100%"},topLoadMethod:{type:Function},bottomLoadMethod:{type:Function},isThrottleTopPull:{type:Boolean,default:!0},isThrottleBottomPull:{type:Boolean,default:!0},isThrottleScroll:{type:Boolean,default:!0},isTopBounce:{type:Boolean,default:!0},isBottomBounce:{type:Boolean,default:!0},topConfig:{type:Object,default:function(){return{}}},bottomConfig:{type:Object,default:function(){return{}}}},data:function(){return{scrollEl:null,startScrollTop:0,startY:0,startX:0,currentY:0,currentX:0,distance:0,direction:0,diff:0,beforeDiff:0,topText:"",bottomText:"",state:"",bottomReached:!1,throttleEmitTopPull:null,throttleEmitBottomPull:null,throttleEmitScroll:null,throttleOnInfiniteScroll:null}},computed:{_topConfig:function(){return(0,i.default)({},s.TOP_DEFAULT_CONFIG,this.topConfig)},_bottomConfig:function(){return(0,i.default)({},s.BOTTOM_DEFAULT_CONFIG,this.bottomConfig)}},watch:{state:function(t){"down"===this.direction?this.$emit("top-state-change",t):this.$emit("bottom-state-change",t)}},methods:{actionPull:function(){this.state="pull","down"===this.direction?this.topText=this._topConfig.pullText:this.bottomText=this._bottomConfig.pullText},actionTrigger:function(){this.state="trigger","down"===this.direction?this.topText=this._topConfig.triggerText:this.bottomText=this._bottomConfig.triggerText},actionLoading:function(){this.state="loading","down"===this.direction?(this.topText=this._topConfig.loadingText,this.topLoadMethod.call(this,this.actionLoaded),this.scrollTo(this._topConfig.stayDistance)):(this.bottomText=this._bottomConfig.loadingText,this.bottomLoadMethod.call(this,this.actionLoaded),this.scrollTo(-this._bottomConfig.stayDistance))},actionLoaded:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"done";this.state="loaded-"+e;var o=void 0;"down"===this.direction?(this.topText="done"===e?this._topConfig.doneText:this._topConfig.failText,o=this._topConfig.loadedStayTime):(this.bottomText="done"===e?this._bottomConfig.doneText:this._bottomConfig.failText,o=this._bottomConfig.loadedStayTime),setTimeout(function(){t.scrollTo(0),setTimeout(function(){t.state=""},200)},o)},scrollTo:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;this.$el.style.transition=o+"ms",this.diff=t,setTimeout(function(){e.$el.style.transition=""},o)},checkBottomReached:function(){return this.scrollEl.scrollTop+this.scrollEl.offsetHeight+1>=this.scrollEl.scrollHeight},handleTouchStart:function(t){this.startY=t.touches[0].clientY,this.startX=t.touches[0].clientX,this.beforeDiff=this.diff,this.startScrollTop=this.scrollEl.scrollTop,this.bottomReached=this.checkBottomReached()},handleTouchMove:function(t){if(this.currentY=t.touches[0].clientY,this.currentX=t.touches[0].clientX,this.distance=(this.currentY-this.startY)/this.distanceIndex+this.beforeDiff,!(Math.abs(this.currentY-this.startY)<Math.abs(this.currentX-this.startX)))if(this.direction=this.distance>0?"down":"up",0===this.startScrollTop&&"down"===this.direction&&this.isTopBounce){if(t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.isThrottleTopPull?this.throttleEmitTopPull(this.diff):this.$emit("top-pull",this.diff),"function"!=typeof this.topLoadMethod)return;this.distance<this._topConfig.triggerDistance&&"pull"!==this.state&&"loading"!==this.state?this.actionPull():this.distance>=this._topConfig.triggerDistance&&"trigger"!==this.state&&"loading"!==this.state&&this.actionTrigger()}else if(this.bottomReached&&"up"===this.direction&&this.isBottomBounce){if(t.preventDefault(),t.stopPropagation(),this.diff=this.distance,this.isThrottleBottomPull?this.throttleEmitBottomPull(this.diff):this.$emit("bottom-pull",this.diff),"function"!=typeof this.bottomLoadMethod)return;Math.abs(this.distance)<this._bottomConfig.triggerDistance&&"pull"!==this.state&&"loading"!==this.state?this.actionPull():Math.abs(this.distance)>=this._bottomConfig.triggerDistance&&"trigger"!==this.state&&"loading"!==this.state&&this.actionTrigger()}},handleTouchEnd:function(){if(0!==this.diff)return"trigger"===this.state?void this.actionLoading():void this.scrollTo(0)},handleScroll:function(t){this.isThrottleScroll?this.throttleEmitScroll(t):this.$emit("scroll",t),this.throttleOnInfiniteScroll()},onInfiniteScroll:function(){this.checkBottomReached()&&this.$emit("infinite-scroll")},throttleEmit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments[2],n=function(){var t=[].concat(Array.prototype.slice.call(arguments));t.unshift(o),this.$emit.apply(this,t)};return(0,r.throttle)(n,t,e)},bindEvents:function(){this.scrollEl.addEventListener("touchstart",this.handleTouchStart),this.scrollEl.addEventListener("touchmove",this.handleTouchMove),this.scrollEl.addEventListener("touchend",this.handleTouchEnd),this.scrollEl.addEventListener("scroll",this.handleScroll)},createThrottleMethods:function(){this.throttleEmitTopPull=this.throttleEmit(200,300,"top-pull"),this.throttleEmitBottomPull=this.throttleEmit(200,300,"bottom-pull"),this.throttleEmitScroll=this.throttleEmit(100,150,"scroll"),this.throttleOnInfiniteScroll=(0,r.throttle)(this.onInfiniteScroll,400)},init:function(){this.createThrottleMethods(),this.scrollEl=this.$el.querySelector(".scroll-container"),this.bindEvents()}},mounted:function(){this.init()}},t.exports=e.default},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={pullText:"下拉刷新",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70},i={pullText:"上拉加载",triggerText:"释放更新",loadingText:"加载中...",doneText:"加载完成",failText:"加载失败",loadedStayTime:400,stayDistance:50,triggerDistance:70};e.TOP_DEFAULT_CONFIG=n,e.BOTTOM_DEFAULT_CONFIG=i},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(9),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=i.default,t.exports=e.default},function(t,e,o){"use strict";function n(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=null,i=void 0;return function(){var r=this,s=arguments,a=+new Date;clearTimeout(n),i||(i=a),0!==o&&a-i>=o?(t.apply(r,s),i=a):n=setTimeout(function(){t.apply(r,s)},e)}}Object.defineProperty(e,"__esModule",{value:!0}),e.throttle=n},function(t,e,o){t.exports={default:o(15),__esModule:!0}},function(t,e,o){o(41),t.exports=o(4).Object.assign},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,o){var n=o(3);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,o){var n=o(8),i=o(37),r=o(36);t.exports=function(t){return function(e,o,s){var a,c=n(e),l=i(c.length),u=r(s,l);if(t&&o!=o){for(;l>u;)if((a=c[u++])!=a)return!0}else for(;l>u;u++)if((t||u in c)&&c[u]===o)return t||u||0;return!t&&-1}}},function(t,e){var o={}.toString;t.exports=function(t){return o.call(t).slice(8,-1)}},function(t,e,o){var n=o(16);t.exports=function(t,e,o){if(n(t),void 0===e)return t;switch(o){case 1:return function(o){return t.call(e,o)};case 2:return function(o,n){return t.call(e,o,n)};case 3:return function(o,n,i){return t.call(e,o,n,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,o){var n=o(3),i=o(2).document,r=n(i)&&n(i.createElement);t.exports=function(t){return r?i.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,o){var n=o(2),i=o(4),r=o(20),s=o(25),a=function(t,e,o){var c,l,u,f=t&a.F,h=t&a.G,d=t&a.S,p=t&a.P,g=t&a.B,v=t&a.W,m=h?i:i[e]||(i[e]={}),b=m.prototype,x=h?n:d?n[e]:(n[e]||{}).prototype;h&&(o=e);for(c in o)(l=!f&&x&&void 0!==x[c])&&c in m||(u=l?x[c]:o[c],m[c]=h&&"function"!=typeof x[c]?o[c]:g&&l?r(u,n):v&&x[c]==u?function(t){var e=function(e,o,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,o)}return new t(e,o,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(u):p&&"function"==typeof u?r(Function.call,u):u,p&&((m.virtual||(m.virtual={}))[c]=u,t&a.R&&b&&!b[c]&&s(b,c,u)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e){var o={}.hasOwnProperty;t.exports=function(t,e){return o.call(t,e)}},function(t,e,o){var n=o(28),i=o(33);t.exports=o(0)?function(t,e,o){return n.f(t,e,i(1,o))}:function(t,e,o){return t[e]=o,t}},function(t,e,o){t.exports=!o(0)&&!o(1)(function(){return 7!=Object.defineProperty(o(21)("div"),"a",{get:function(){return 7}}).a})},function(t,e,o){"use strict";var n=o(31),i=o(29),r=o(32),s=o(38),a=o(6),c=Object.assign;t.exports=!c||o(1)(function(){var t={},e={},o=Symbol(),n="abcdefghijklmnopqrst";return t[o]=7,n.split("").forEach(function(t){e[t]=t}),7!=c({},t)[o]||Object.keys(c({},e)).join("")!=n})?function(t,e){for(var o=s(t),c=arguments.length,l=1,u=i.f,f=r.f;c>l;)for(var h,d=a(arguments[l++]),p=u?n(d).concat(u(d)):n(d),g=p.length,v=0;g>v;)f.call(d,h=p[v++])&&(o[h]=d[h]);return o}:c},function(t,e,o){var n=o(17),i=o(26),r=o(39),s=Object.defineProperty;e.f=o(0)?Object.defineProperty:function(t,e,o){if(n(t),e=r(e,!0),n(o),i)try{return s(t,e,o)}catch(t){}if("get"in o||"set"in o)throw TypeError("Accessors not supported!");return"value"in o&&(t[e]=o.value),t}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,o){var n=o(24),i=o(8),r=o(18)(!1),s=o(34)("IE_PROTO");t.exports=function(t,e){var o,a=i(t),c=0,l=[];for(o in a)o!=s&&n(a,o)&&l.push(o);for(;e.length>c;)n(a,o=e[c++])&&(~r(l,o)||l.push(o));return l}},function(t,e,o){var n=o(30),i=o(22);t.exports=Object.keys||function(t){return n(t,i)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,o){var n=o(35)("keys"),i=o(40);t.exports=function(t){return n[t]||(n[t]=i(t))}},function(t,e,o){var n=o(2),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});t.exports=function(t){return i[t]||(i[t]={})}},function(t,e,o){var n=o(7),i=Math.max,r=Math.min;t.exports=function(t,e){return t=n(t),t<0?i(t+e,0):r(t,e)}},function(t,e,o){var n=o(7),i=Math.min;t.exports=function(t){return t>0?i(n(t),9007199254740991):0}},function(t,e,o){var n=o(5);t.exports=function(t){return Object(n(t))}},function(t,e,o){var n=o(3);t.exports=function(t,e){if(!n(t))return t;var o,i;if(e&&"function"==typeof(o=t.toString)&&!n(i=o.call(t)))return i;if("function"==typeof(o=t.valueOf)&&!n(i=o.call(t)))return i;if(!e&&"function"==typeof(o=t.toString)&&!n(i=o.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e){var o=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++o+n).toString(36))}},function(t,e,o){var n=o(23);n(n.S+n.F,"Object",{assign:o(27)})},function(t,e,o){e=t.exports=o(43)(!1),e.push([t.i,"\n.vue-pull-to-reload-wrapper[data-v-d37c2ed4] {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n          flex-direction: column;\n  height: 100%;\n}\n.scroll-container[data-v-d37c2ed4] {\n  -webkit-box-flex: 1;\n  -webkit-flex: 1;\n          flex: 1;\n  overflow-x: hidden;\n  overflow-y: scroll;\n  -webkit-overflow-scrolling: touch;\n}\n.vue-pull-to-reload-wrapper .action-block[data-v-d37c2ed4] {\n  position: relative;\n  width: 100%;\n}\n.default-text[data-v-d37c2ed4] {\n  height: 100%;\n  line-height: 50px;\n  text-align: center;\n}\n",""])},function(t,e,o){"use strict";function n(t,e){var o=t[1]||"",n=t[3];if(!n)return o;if(e&&"function"==typeof btoa){var r=i(n);return[o].concat(n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"})).concat([r]).join("\n")}return[o].join("\n")}function i(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var o=n(e,t);return e[2]?"@media "+e[2]+"{"+o+"}":o}).join("")},e.i=function(t,o){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(n[r]=!0)}for(i=0;i<t.length;i++){var s=t[i];null!=s[0]&&n[s[0]]||(o&&!s[2]?s[2]=o:o&&(s[2]="("+s[2]+") and ("+o+")"),e.push(s))}},e}},function(t,e){t.exports=function(t,e,o,n){var i,r=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(i=t,r=t.default);var a="function"==typeof r?r.options:r;if(e&&(a.render=e.render,a.staticRenderFns=e.staticRenderFns),o&&(a._scopeId=o),n){var c=Object.create(a.computed||null);Object.keys(n).forEach(function(t){var e=n[t];c[t]=function(){return e}}),a.computed=c}return{esModule:i,exports:r,options:a}}},function(t,e,o){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"vue-pull-to-reload-wrapper",style:{height:t.wrapperHeight,position:"absolute",marginTop:t.diff+"px"}},[t.topLoadMethod?o("div",{staticClass:"action-block",style:{height:t.topBlockHeight+"px",marginTop:-t.topBlockHeight+"px"}},[t._t("top-block",[o("p",{staticClass:"default-text"},[t._v(t._s(t.topText))])],{state:t.state,stateText:t.topText,triggerDistance:t._topConfig.triggerDistance,diff:t.diff})],2):t._e(),t._v(" "),o("div",{staticClass:"scroll-container"},[t._t("default")],2),t._v(" "),t.bottomLoadMethod?o("div",{staticClass:"action-block",style:{height:t.bottomBlockHeight+"px",marginBottom:-t.bottomBlockHeight+"px"}},[t._t("bottom-block",[o("p",{staticClass:"default-text"},[t._v(t._s(t.bottomText))])],{state:t.state,stateText:t.bottomText,triggerDistance:t._bottomConfig.triggerDistance,diff:t.diff})],2):t._e()])},staticRenderFns:[]},t.exports.render._withStripped=!0},function(t,e,o){var n=o(42);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);o(47)("5c525727",n,!1)},function(t,e,o){function n(t){for(var e=0;e<t.length;e++){var o=t[e],n=u[o.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](o.parts[i]);for(;i<o.parts.length;i++)n.parts.push(r(o.parts[i]));n.parts.length>o.parts.length&&(n.parts.length=o.parts.length)}else{for(var s=[],i=0;i<o.parts.length;i++)s.push(r(o.parts[i]));u[o.id]={id:o.id,refs:1,parts:s}}}}function i(){var t=document.createElement("style");return t.type="text/css",f.appendChild(t),t}function r(t){var e,o,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(p)return g;n.parentNode.removeChild(n)}if(v){var r=d++;n=h||(h=i()),e=s.bind(null,n,r,!1),o=s.bind(null,n,r,!0)}else n=i(),e=a.bind(null,n),o=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else o()}}function s(t,e,o,n){var i=o?"":n.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var r=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}function a(t,e){var o=e.css,n=e.media,i=e.sourceMap;if(n&&t.setAttribute("media",n),i&&(o+="\n/*# sourceURL="+i.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var l=o(48),u={},f=c&&(document.head||document.getElementsByTagName("head")[0]),h=null,d=0,p=!1,g=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,o){p=o;var i=l(t,e);return n(i),function(e){for(var o=[],r=0;r<i.length;r++){var s=i[r],a=u[s.id];a.refs--,o.push(a)}e?(i=l(t,e),n(i)):i=[];for(var r=0;r<o.length;r++){var a=o[r];if(0===a.refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete u[a.id]}}}};var m=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var o=[],n={},i=0;i<e.length;i++){var r=e[i],s=r[0],a=r[1],c=r[2],l=r[3],u={id:t+":"+i,css:a,media:c,sourceMap:l};n[s]?n[s].parts.push(u):o.push(n[s]={id:s,parts:[u]})}return o}}])});